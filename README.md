# JavassistMalwareRemover
![badge](https://img.shields.io/github/v/release/Swofty-Developments/JavassistMalwareRemover)
![badge](https://img.shields.io/github/last-commit/Swofty-Developments/JavassistMalwareRemover)
[![badge](https://img.shields.io/discord/830345347867476000?label=discord)](https://discord.gg/atlasmc)
[![badge](https://img.shields.io/github/license/Swofty-Developments/JavassistMalwareRemover)](https://github.com/Swofty-Developments/JavassistMalwareRemover/blob/master/LICENSE.txt)

Advanced Java-based tool for analyzing and removing Javassist-based malware from JAR files. Implements parallel processing for decompilation, intelligent code analysis, and automated cleanup of infected plugins.

## Table of contents

* [Getting started](#getting-started)
* [Usage](#usage)
* [Advanced Usage](#advanced-usage)
* [License](#license)

## Getting started

This tool is designed for standalone usage and includes the CFR decompiler, requiring only Python 3.7+ and the following dependencies.

### Required Dependencies
```text
asyncio==3.4.3
javalang==0.13.0
requests==2.31.0
tqdm==4.65.0
```

### Installation

1. Clone the repository:
```bash
git clone https://github.com/Swofty-Developments/JavassistMalwareRemover.git
```

2. Install dependencies:
```bash
pip install -r requirements.txt
```

## Usage

### Basic Command Line Usage
```bash
python main.py
```
When prompted, enter the directory containing JAR files to analyze. The tool will:
1. Scan for suspicious Javassist patterns
2. Decompile infected class files
3. Remove malicious components
4. Create cleaned versions with "_cleaned" suffix

### Batch Processing
```python
from processor import JarProcessor

# Process all JARs in a directory
processor = JarProcessor()
processor.process_directory("/path/to/plugins")
```

## Advanced Usage

### Batch Processing with Progress
```python
from processor import JarProcessor
from logging import setup_logger

logger = setup_logger(level="INFO")
processor = JarProcessor(logger=logger)

# Process with custom options
processor.process_directory(
    path="/plugins",
    parallel=True,
    max_workers=4
)
```

## License
JavassistMalwareRemover is licensed under the Apache License 2.0. Please see [`LICENSE.txt`](https://github.com/Swofty-Developments/JavassistMalwareRemover/blob/master/LICENSE.txt) for more information.