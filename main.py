import os
import logging
from .logger_config import configure_logger
from .jar_processor import process_jar_file

def main():
    """Main entry point for the JAR malware removal tool."""
    logger = configure_logger()
    logger.info("Starting JAR malware removal process")

    directory = input("Enter the directory path containing JAR files: ")

    for root, _, files in os.walk(directory):
        for file in files:
            if file.endswith(".jar"):
                jar_path = os.path.join(root, file)
                try:
                    process_jar_file(jar_path)
                except Exception as e:
                    logger.error(f"Error processing {jar_path}: {e}")

if __name__ == "__main__":
    main()